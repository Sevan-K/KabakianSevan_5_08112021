let getProductById=async function(id){try{let response=await fetch("http://localhost:3000/api/products/"+id);if(response.ok){let data;return await response.json()}console.log("Statut d'erreur de la réponse de getProductById",response.status)}catch(error){console.log(error)}};function buildCartFromStorage(){let cartToBuild=[];if(localStorage.length>0)for(let j=0;j<localStorage.length;j++){let key=localStorage.key(j),value=localStorage.getItem(key);"IsThisFirstTime_Log_From_LiveServer"!=key&&"objectToSend"!=key&&cartToBuild.push(JSON.parse(value))}return console.log("Panier construit à partir du localStorage",cartToBuild),cartToBuild}function storeCart(cart){for(item of(localStorage.clear(),cart)){let itemKey=item.id+"_"+item.color;const itemStringified=JSON.stringify(item);localStorage.setItem(itemKey,itemStringified)}console.log("localStorage après intégration du nouvel article",localStorage)}console.log("Etat du storage en arrivant sur la page",localStorage);