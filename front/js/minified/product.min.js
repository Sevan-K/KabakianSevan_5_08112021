const urlText=window.location.href;let url=new URL(urlText);const productId=url.searchParams.get("id");console.log("id du produit qui a été cliqué sur la page d'accueil : ",productId);const intemImg=document.getElementsByClassName("item__img")[0],image=document.createElement("img");intemImg.appendChild(image);const title=document.getElementById("title"),price=document.getElementById("price"),description=document.getElementById("description"),colorSelect=document.getElementById("colors");let addColors=colors=>{for(let i=0;i<colors.length;i++){let color=document.createElement("option");colorSelect.appendChild(color),color.setAttribute("value",colors[i]),color.textContent=colors[i]}};async function addProductInfo(){let product=await getProductById(productId);console.log("Information du produit dont on a récupérer l'id",product),image.setAttribute("src",product.imageUrl),image.setAttribute("alt",product.altTxt),title.textContent=product.name,price.textContent=" "+product.price+" ",description.textContent=product.description,addColors(product.colors)}addProductInfo();let cartToModify=buildCartFromStorage();const addToCart=document.getElementById("addToCart");addToCart.addEventListener("click",(function(){if(""==colorSelect.value||0==quantity.value)alert("Sélectionnez une couleur et un nombre d'article supérieur à 0");else{let itemToAdd=getItem(),cartModified=addItemToCart(cartToModify,itemToAdd);storeCart(cartModified),cartToModify=cartModified,confirm("Souhaitez vous être redirigé vers la page panier ?")&&(window.location.href="cart.html")}}));